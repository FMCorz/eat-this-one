// This template requires dish object to be set in $scope
//

extends ../component-layout

block content
    div(ng-controller='DishesEditController', class='container')

        include ../top

        form(role='form')
            eat-input-text(element='name')
            eat-photo(element='photo')
            eat-input-text(element='description')
            //- No need to show it, it bothers.
            div(class='hidden')
                eat-select(element='locationid')
            eat-radio(element='when')
            eat-radio(element='nportions')
            eat-radio(element='donation')

            input(type='hidden', name='currency', id='id-currency',  value='aud', ng-model='dish.currency')

            div(ng-if='auth.isAuthenticated()')
                button(ng-if='!isEditing()', type='button', ng-click='save()', class='btn btn-primary')
                    span(class='glyphicon glyphicon-ok button-icon')
                    {{lang.sharedish}}
                button(ng-if='isEditing()', type='button', ng-click='save()', class='btn btn-primary')
                    span(class='glyphicon glyphicon-ok button-icon')
                    {{lang.editdish}}

    include ../footer
